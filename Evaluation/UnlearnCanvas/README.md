## ðŸ”¬ Evaluation
```bash
cd $REPO_ROOT/Evaluation/UnlearnCanvas
```

### ðŸ”¹ Sample Images
Example below shows sampling a model that has unlearned the style "Abstractionism" via the unlearning method ESD. The style other than "Abstractionism" are the in-domain retention set and the objects are the cross-domain retention set used in our paper.
#### ESD
```bash
python sample.py \
--unet_ckpt_path $OUTPUT_ROOT/esd/models/independent/base/style/Abstractionism.pth \
--output_dir $OUTPUT_ROOT/esd/eval_results/independent/base/style/Abstractionism/images \
--styles_subset '["Abstractionism", "Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--objects_subset '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]' \
--pipeline_dir $BASE_MODEL_DIR 
```
#### CA
```bash
python sample.py \
--unet_ckpt_path $OUTPUT_ROOT/ca/models/independent/base/style/Abstractionism_retention/delta.bin \
--output_dir $OUTPUT_ROOT/ca/eval_results/independent/base/style/Abstractionism_retention/images \
--styles_subset '["Abstractionism", "Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--objects_subset '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]' \
--pipeline_dir $BASE_MODEL_DIR 
```
### ðŸ”¹ Evaluate Accuracy
Example below shows evaluation for images generated by a model that has unlearned the style "Abstractionism" via the unlearning method ESD. The style other than "Abstractionism" are the in-domain retention set and the objects are the cross-domain retention set used in our paper.
#### ESD
```bash
python evaluate.py \
--input_dir $OUTPUT_ROOT/esd/eval_results/independent/base/style/Abstractionism/images \
--output_dir $OUTPUT_ROOT/esd/eval_results/independent/base/style/Abstractionism/metrics \
--classifier_dir $REPO_ROOT/Evaluation/UnlearnCanvas/classifiers \
--unlearn '["Abstractionism"]' \
--retain '["Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--cross_retain '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]'
```
#### CA
```bash
python evaluate.py \
--input_dir $OUTPUT_ROOT/ca/eval_results/independent/base/style/Abstractionism_retention/images \
--output_dir $OUTPUT_ROOT/ca/eval_results/independent/base/style/Abstractionism_retention/metrics \
--classifier_dir $REPO_ROOT/Evaluation/UnlearnCanvas/classifiers \
--unlearn '["Abstractionism"]' \
--retain '["Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--cross_retain '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]'
```

#### Simultaneous
```bash
python sample.py \
--unet_ckpt_path $OUTPUT_ROOT/esd/models/simultaneous/base/style/thruCartoon/thruCartoon.pth \
--output_dir $OUTPUT_ROOT/esd/eval_results/simultaneous/base/style/thruCartoon/images \
--styles_subset '["Abstractionism", "Byzantine", "Cartoon", "Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--objects_subset '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]' \
--pipeline_dir $BASE_MODEL_DIR 
```

```bash
python evaluate.py \
--input_dir $OUTPUT_ROOT/esd/eval_results/simultaneous/base/style/thruCartoon/images \
--output_dir $OUTPUT_ROOT/esd/eval_results/simultaneous/base/style/thruCartoon/metrics \
--classifier_dir $REPO_ROOT/Evaluation/UnlearnCanvas/classifiers \
--unlearn '["Abstractionism", "Byzantine", "Cartoon"]' \
--retain '["Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--cross_retain '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]'
```

#### Merge
```bash
python sample.py \
--unet_ckpt_path /fs/scratch/PAS2099/lee.10369/CUIG/esd/models/independent/merge/ties/style/lambda1.70_topk0.80/thruVibrantFlow.pth \
--output_dir /fs/scratch/PAS2099/lee.10369/CUIG/esd/eval_results/independent/merge/ties/style/lambda1.70_topk0.80/thruVibrantFlow/images \
--styles_subset '["Abstractionism", "Byzantine", "Cartoon", "Cold_Warm", "Ukiyoe", "Van_Gogh", "Neon_Lines", "Picasso", "On_Fire", "Magic_Cube", "Winter", "Vibrant_Flow", "Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--objects_subset '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]' \
--pipeline_dir $BASE_MODEL_DIR 
```

```bash
python evaluate.py \
--input_dir /fs/scratch/PAS2099/lee.10369/CUIG/esd/eval_results/independent/merge/ties/object/lambda2.00_topk0.20/thruWaterfalls/images \
--output_dir /fs/scratch/PAS2099/lee.10369/CUIG/esd/eval_results/independent/merge/ties/object/lambda2.00_topk0.20/thruWaterfalls/metrics \
--classifier_dir $REPO_ROOT/Evaluation/UnlearnCanvas/classifiers \
--unlearn '["Bears", "Birds", "Cats", "Dogs", "Fishes", "Frogs", "Jellyfish", "Rabbits", "Sandwiches", "Statues", "Towers", "Waterfalls"]' \
--cross_retain '["Blossom_Season","Rust","Crayon","Fauvism","Superstring","Red_Blue_Ink", "Gorgeous_Love", "French", "Joy", "Greenfield", "Expressionism", "Impressionism"]' \
--retain '["Architectures", "Butterfly", "Flame", "Flowers", "Horses", "Human", "Sea", "Trees"]'
```
---
